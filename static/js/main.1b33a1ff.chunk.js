(this["webpackJsonpweather-app"]=this["webpackJsonpweather-app"]||[]).push([[0],{100:function(e,a,t){},101:function(e,a,t){},119:function(e,a,t){},130:function(e,a,t){},132:function(e,a,t){},133:function(e,a,t){"use strict";t.r(a);var n=t(0),c=t.n(n),r=(t(92),t(16)),o=t(32),i=t(10),l=t(15),u=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{favorites:[],activeView:"home"},a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"ON_AUTOCOMPLETE_SUCCESS":return Object(l.a)(Object(l.a)({},e),{},{locationOptions:a.data});case"ON_REQUEST_FAILED":return Object(l.a)(Object(l.a)({},e),{},{error:!0});case"CLEAR_ERROR":return Object(l.a)(Object(l.a)({},e),{},{error:!1});case"ON_GET_CURRENT_WEATHER_SUCCESS":return Object(l.a)(Object(l.a)({},e),{},{currentWeather:a.data});case"ON_GET_FIVE_DAY_FORECAST_SUCCESS":return Object(l.a)(Object(l.a)({},e),{},{fiveDayForecast:a.data});case"ON_ADD_TO_FAVORITES":var t=a.data.favorite;return e.favorites.push(t),Object(l.a)({},e);case"ON_REMOVE_FROM_FAVORITES":var n=e.favorites.filter((function(e){return e.locationDetails.LocalizedName!=a.data.LocalizedName}));return Object(l.a)(Object(l.a)({},e),{},{favorites:n});case"CHANGE_CURRENT_LOCATION":return Object(l.a)(Object(l.a)({},e),{},{currentLocation:a.data});case"CHANGE_VIEW":return Object(l.a)(Object(l.a)({},e),{},{activeView:a.data});default:return e}},s=t(75),m=(t(100),t(55)),E=t(176),f=(t(101),t(49)),v=t.n(f),d="https://dataservice.accuweather.com/",O="hTWbeMVgqncaqwA6kUHvP5axkjmWGNmP";function p(e){return function(a){return v.a.get("".concat(d,"locations/v1/cities/autocomplete"),{params:{apikey:O,q:e}}).then((function(e){return a({type:"ON_AUTOCOMPLETE_SUCCESS",data:e.data})})).catch((function(e){a({type:"ON_REQUEST_FAILED"})}))}}function N(e){return function(a){return v.a.get("".concat(d,"currentconditions/v1/").concat(e),{params:{apikey:O}}).then((function(e){return a({type:"ON_GET_CURRENT_WEATHER_SUCCESS",data:e.data})})).catch((function(e){a({type:"ON_REQUEST_FAILED"})}))}}function h(e){return function(a){return v.a.get("".concat(d,"forecasts/v1/daily/5day/").concat(e),{params:{apikey:O,metric:!0}}).then((function(e){return a({type:"ON_GET_FIVE_DAY_FORECAST_SUCCESS",data:e.data})})).catch((function(e){a({type:"ON_REQUEST_FAILED"})}))}}function b(e){return function(a){return a({type:"CHANGE_CURRENT_LOCATION",data:e})}}function _(e){return function(a){return a({type:"CHANGE_VIEW",data:e})}}var C=t(177);t(119);var T=function(e){return c.a.createElement("div",{className:"day-forecast-card"},c.a.createElement("div",{className:"day-and-date"},c.a.createElement("div",{className:"date-string"},function(){var a=new Date(e.day);return"".concat(a.getDate(),"-").concat(a.getMonth()+1,"-").concat(a.getFullYear())}()),c.a.createElement("div",{className:"day-string"},Intl.DateTimeFormat("en-US",{weekday:"long"}).format(new Date(e.day)))),c.a.createElement("img",{className:"day-weather-icon",src:"".concat("/weather-app","/weatherIcons/").concat(e.icon,".png")}),c.a.createElement("div",{className:"day-temperature"},"".concat(e.minTemperature,"\xb0C/").concat(e.maxTemperature,"\xb0C")))},j=t(77),g=t.n(j),y=t(41),R=t.n(y),S=t(174),w=t(52),A=(t(120),t(76)),D=t.n(A);var L=function(){var e=Object(r.b)(),a=Object(r.c)((function(e){return e.error})),t=Object(r.c)((function(e){return e.locationOptions})),o=Object(r.c)((function(e){return e.currentWeather})),i=Object(r.c)((function(e){return e.fiveDayForecast})),l=Object(r.c)((function(e){return e.favorites})),u=Object(r.c)((function(e){return e.currentLocation})),s=Object(n.useState)(l.map((function(e){return e.locationDetails.LocalizedName}))),f=Object(m.a)(s,2),v=f[0],d=(f[1],Object(n.useState)(u?v.includes(u.LocalizedName):null)),O=Object(m.a)(d,2),_=O[0],j=O[1];Object(n.useEffect)((function(){var a=u?u.LocalizedName:"Tel Aviv",t=u?u.Key:"215854";e(p(a)),e(N(t)),e(h(t))}),[]);var y=Object(n.useCallback)(D()((function(a){e(p(a))}),500),[]),A=Object(n.useCallback)((function(){a&&w.b.error("An error has occurred. Please try again later.")}),[a]);function L(e){y(e.target.value)}var I=_?"remove from favorites":"add to favorites",F=_?c.a.createElement(R.a,null):c.a.createElement(g.a,null);return u||t&&e(b(t[0])),A(),c.a.createElement("div",{className:"home-container"},c.a.createElement(C.a,{className:"search-bar",id:"combo-box-demo",options:t||[],getOptionLabel:function(e){return"".concat(e.LocalizedName,", ").concat(e.Country.LocalizedName)},onChange:function(a,t){return function(a,t){t&&(e(b(t)),e(N(t.Key)),e(h(t.Key)),j(v.includes(t.LocalizedName)))}(0,t)},renderInput:function(e){return c.a.createElement(E.a,Object.assign({},e,{label:"Search",variant:"outlined",onChange:L}))}}),c.a.createElement("div",{className:"weather-view"},c.a.createElement(w.a,{position:"top-center",hideProgressBar:!0,autoClose:!1,closeOnClick:!0,rtl:!1,draggable:!0,closeButton:function(a){a.closeToast;return c.a.createElement("i",{className:"material-icons",onClick:function(){return e((function(e){return e({type:"CLEAR_ERROR"})}))}},"delete")}}),c.a.createElement("div",{className:"weather-view-header"},c.a.createElement("div",{className:"title"},u?u.LocalizedName:null,c.a.createElement("img",{className:"weather-icon",src:o?"".concat("/weather-app","/weatherIcons/").concat(o[0].WeatherIcon,".png"):null})),c.a.createElement(S.a,{title:I,arrow:!0},c.a.createElement("div",{className:"add-to-favorites-btn",onClick:function(){var a;e(_?(a=u,function(e){return e({type:"ON_REMOVE_FROM_FAVORITES",data:a})}):function(e){return function(a){return a({type:"ON_ADD_TO_FAVORITES",data:{favorite:e}})}}({locationDetails:u,currentWeather:o})),j(!_)}},F))),c.a.createElement("div",{className:"current-weather-text"},o?"".concat(o[0].WeatherText):null,c.a.createElement("span",{className:"current-weather-temperature"},o?" /".concat(o[0].Temperature.Metric.Value,"\xb0C"):null)),c.a.createElement("div",{className:"five-days-forecast-container"},i?function(){var e=[];return i.DailyForecasts.map((function(a){return e.push(c.a.createElement(T,{day:a.Date,minTemperature:a.Temperature.Minimum.Value,maxTemperature:a.Temperature.Maximum.Value,icon:a.Day.Icon}))})),e}():null)))},I=t(178),F=t(175),U=t(80),V=t.n(U),W=(t(130),t(12));var k=function(e){var a=Object(r.b)(),t=Object(W.f)();return c.a.createElement("div",{className:"favorite-card",onClick:function(){return a(b(e.favorite.locationDetails)),a(_("home")),void t.push("/")}},c.a.createElement("div",{className:"favorite-name"},e.favorite.locationDetails.LocalizedName),c.a.createElement("img",{className:"favorite-weather-icon",src:e.favorite.currentWeather?"".concat("/weather-app","/weatherIcons/").concat(e.favorite.currentWeather[0].WeatherIcon,".png"):null}),c.a.createElement("div",{className:"favorite-current-temperature"},e.favorite.currentWeather?"".concat(e.favorite.currentWeather[0].Temperature.Metric.Value,"\xb0"):null))};t(132);var M=function(){var e=Object(r.c)((function(e){return e.favorites})).map((function(e){return c.a.createElement(k,{favorite:e})}));return c.a.createElement("div",{className:"favorites-container"},0!=e.length?e:c.a.createElement("div",{className:"no-favorites-message"},"No  Saved Favorites"))},z=t(35);var x=function(){var e=Object(r.c)((function(e){return e.activeView})),a=Object(r.b)();return c.a.createElement(z.a,null,c.a.createElement("div",{className:"app"},c.a.createElement("div",{className:"main-header"},c.a.createElement("div",{className:"app-title-and-icon"},c.a.createElement("img",{className:"app-icon",src:"".concat("/weather-app","/app-icon.png")}),c.a.createElement("div",{className:"app-title"},"HEROLO WEATHER APP")),c.a.createElement(I.a,{className:"nav-btns",exclusive:!0,onChange:function(e,t){return function(e,t){a(_(t))}(0,t)}},c.a.createElement(F.a,{value:"home",selected:"home"===e},c.a.createElement(z.b,{className:"toggle-btn",to:"/"},c.a.createElement(V.a,null))),c.a.createElement(F.a,{value:"favorites",selected:"favorites"===e},c.a.createElement(z.b,{className:"toggle-btn",to:"/Favorites"},c.a.createElement(R.a,null))))),c.a.createElement("div",{className:"view-container"},c.a.createElement(W.c,null,c.a.createElement(W.a,{path:"/Favorites"},c.a.createElement(M,null)),c.a.createElement(W.a,{path:"/"},c.a.createElement(L,null))))))},G=Object(o.c)(u,Object(o.a)(s.a));Object(i.render)(c.a.createElement(r.a,{store:G},c.a.createElement(x,null)),document.getElementById("root"))},90:function(e,a,t){e.exports=t(133)},92:function(e,a,t){}},[[90,1,2]]]);
//# sourceMappingURL=main.1b33a1ff.chunk.js.map