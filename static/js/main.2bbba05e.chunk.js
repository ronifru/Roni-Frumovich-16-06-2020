(this["webpackJsonpweather-app"]=this["webpackJsonpweather-app"]||[]).push([[0],{100:function(e,t,a){},101:function(e,t,a){},119:function(e,t,a){},130:function(e,t,a){},132:function(e,t,a){},133:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),r=(a(92),a(16)),o=a(32),i=a(10),u=a(15),l=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{favorites:[],activeView:"home"},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ON_AUTOCOMPLETE_SUCCESS":return Object(u.a)(Object(u.a)({},e),{},{locationOptions:t.data});case"ON_REQUEST_FAILED":return Object(u.a)(Object(u.a)({},e),{},{error:!0});case"CLEAR_ERROR":return Object(u.a)(Object(u.a)({},e),{},{error:!1});case"ON_GET_CURRENT_WEATHER_SUCCESS":return Object(u.a)(Object(u.a)({},e),{},{currentWeather:t.data});case"ON_GET_FIVE_DAY_FORECAST_SUCCESS":return Object(u.a)(Object(u.a)({},e),{},{fiveDayForecast:t.data});case"ON_ADD_TO_FAVORITES":var a=t.data.favorite;return e.favorites.push(a),Object(u.a)({},e);case"ON_REMOVE_FROM_FAVORITES":var n=e.favorites.filter((function(e){return e.locationDetails.LocalizedName!=t.data.LocalizedName}));return Object(u.a)(Object(u.a)({},e),{},{favorites:n});case"CHANGE_CURRENT_LOCATION":return Object(u.a)(Object(u.a)({},e),{},{currentLocation:t.data});case"CHANGE_VIEW":return Object(u.a)(Object(u.a)({},e),{},{activeView:t.data});default:return e}},s=a(75),m=(a(100),a(55)),E=a(176),f=(a(101),a(49)),v=a.n(f),d="https://dataservice.accuweather.com/",O="hTWbeMVgqncaqwA6kUHvP5axkjmWGNmP";function p(e){return function(t){return v.a.get("".concat(d,"locations/v1/cities/autocomplete"),{params:{apikey:O,q:e}}).then((function(e){return t({type:"ON_AUTOCOMPLETE_SUCCESS",data:e.data})})).catch((function(e){t({type:"ON_REQUEST_FAILED"})}))}}function N(e){return function(t){return v.a.get("".concat(d,"currentconditions/v1/").concat(e),{params:{apikey:O}}).then((function(e){return t({type:"ON_GET_CURRENT_WEATHER_SUCCESS",data:e.data})})).catch((function(e){t({type:"ON_REQUEST_FAILED"})}))}}function b(e){return function(t){return v.a.get("".concat(d,"forecasts/v1/daily/5day/").concat(e),{params:{apikey:O,metric:!0}}).then((function(e){return t({type:"ON_GET_FIVE_DAY_FORECAST_SUCCESS",data:e.data})})).catch((function(e){t({type:"ON_REQUEST_FAILED"})}))}}function h(e){return function(t){return t({type:"CHANGE_CURRENT_LOCATION",data:e})}}function _(e){return function(t){return t({type:"CHANGE_VIEW",data:e})}}var C=a(177);a(119);var T=function(e){return c.a.createElement("div",{className:"day-forecast-card"},c.a.createElement("div",{className:"day-and-date"},c.a.createElement("div",{className:"date-string"},function(){var t=new Date(e.day);return"".concat(t.getDate(),"-").concat(t.getMonth()+1,"-").concat(t.getFullYear())}()),c.a.createElement("div",{className:"day-string"},Intl.DateTimeFormat("en-US",{weekday:"long"}).format(new Date(e.day)))),c.a.createElement("img",{className:"day-weather-icon",src:"".concat("/Roni-Frumovich-16-06-2020","/weatherIcons/").concat(e.icon,".png")}),c.a.createElement("div",{className:"day-temperature"},"".concat(e.minTemperature,"\xb0C/").concat(e.maxTemperature,"\xb0C")))},j=a(77),R=a.n(j),y=a(41),g=a.n(y),S=a(174),A=a(52),w=(a(120),a(76)),F=a.n(w);var D=function(){var e=Object(r.b)(),t=Object(r.c)((function(e){return e.error})),a=Object(r.c)((function(e){return e.locationOptions})),o=Object(r.c)((function(e){return e.currentWeather})),i=Object(r.c)((function(e){return e.fiveDayForecast})),u=Object(r.c)((function(e){return e.favorites})),l=Object(r.c)((function(e){return e.currentLocation})),s=Object(n.useState)(u.map((function(e){return e.locationDetails.LocalizedName}))),f=Object(m.a)(s,2),v=f[0],d=(f[1],Object(n.useState)(l?v.includes(l.LocalizedName):null)),O=Object(m.a)(d,2),_=O[0],j=O[1];Object(n.useEffect)((function(){var t=l?l.LocalizedName:"Tel Aviv",a=l?l.Key:"215854";e(p(t)),e(N(a)),e(b(a))}),[]);var y=Object(n.useCallback)(F()((function(t){e(p(t))}),500),[]),w=Object(n.useCallback)((function(){t&&A.b.error("An error has occurred. Please try again later.")}),[t]);function D(e){y(e.target.value)}var L=_?"remove from favorites":"add to favorites",I=_?c.a.createElement(g.a,null):c.a.createElement(R.a,null);return l||a&&e(h(a[0])),w(),c.a.createElement("div",{className:"home-container"},c.a.createElement(C.a,{className:"search-bar",id:"combo-box-demo",options:a||[],getOptionLabel:function(e){return"".concat(e.LocalizedName,", ").concat(e.Country.LocalizedName)},onChange:function(t,a){return function(t,a){a&&(e(h(a)),e(N(a.Key)),e(b(a.Key)),j(v.includes(a.LocalizedName)))}(0,a)},renderInput:function(e){return c.a.createElement(E.a,Object.assign({},e,{label:"Search",variant:"outlined",onChange:D}))}}),c.a.createElement("div",{className:"weather-view"},c.a.createElement(A.a,{position:"top-center",hideProgressBar:!0,autoClose:!1,closeOnClick:!0,rtl:!1,draggable:!0,closeButton:function(t){t.closeToast;return c.a.createElement("i",{className:"material-icons",onClick:function(){return e((function(e){return e({type:"CLEAR_ERROR"})}))}},"delete")}}),c.a.createElement("div",{className:"weather-view-header"},c.a.createElement("div",{className:"title"},l?l.LocalizedName:null,c.a.createElement("img",{className:"weather-icon",src:o?"".concat("/Roni-Frumovich-16-06-2020","/weatherIcons/").concat(o[0].WeatherIcon,".png"):null})),c.a.createElement(S.a,{title:L,arrow:!0},c.a.createElement("div",{className:"add-to-favorites-btn",onClick:function(){var t;e(_?(t=l,function(e){return e({type:"ON_REMOVE_FROM_FAVORITES",data:t})}):function(e){return function(t){return t({type:"ON_ADD_TO_FAVORITES",data:{favorite:e}})}}({locationDetails:l,currentWeather:o})),j(!_)}},I))),c.a.createElement("div",{className:"current-weather-text"},o?"".concat(o[0].WeatherText):null,c.a.createElement("span",{className:"current-weather-temperature"},o?" /".concat(o[0].Temperature.Metric.Value,"\xb0C"):null)),c.a.createElement("div",{className:"five-days-forecast-container"},i?function(){var e=[];return i.DailyForecasts.map((function(t){return e.push(c.a.createElement(T,{day:t.Date,minTemperature:t.Temperature.Minimum.Value,maxTemperature:t.Temperature.Maximum.Value,icon:t.Day.Icon}))})),e}():null)))},L=a(178),I=a(175),U=a(80),V=a.n(U),W=(a(130),a(12));var k=function(e){var t=Object(r.b)(),a=Object(W.f)();return c.a.createElement("div",{className:"favorite-card",onClick:function(){return t(h(e.favorite.locationDetails)),t(_("home")),void a.push("/")}},c.a.createElement("div",{className:"favorite-name"},e.favorite.locationDetails.LocalizedName),c.a.createElement("img",{className:"favorite-weather-icon",src:e.favorite.currentWeather?"".concat("/Roni-Frumovich-16-06-2020","/weatherIcons/").concat(e.favorite.currentWeather[0].WeatherIcon,".png"):null}),c.a.createElement("div",{className:"favorite-current-temperature"},e.favorite.currentWeather?"".concat(e.favorite.currentWeather[0].Temperature.Metric.Value,"\xb0"):null))};a(132);var M=function(){var e=Object(r.c)((function(e){return e.favorites}));return c.a.createElement("div",{className:"favorites-container"},e.map((function(e){return c.a.createElement(k,{favorite:e})})))},z=a(35);var x=function(){var e=Object(r.c)((function(e){return e.activeView})),t=Object(r.b)();return c.a.createElement(z.a,null,c.a.createElement("div",{className:"app"},c.a.createElement("div",{className:"main-header"},c.a.createElement("div",{className:"app-title-and-icon"},c.a.createElement("img",{className:"app-icon",src:"".concat("/Roni-Frumovich-16-06-2020","/app-icon.png")}),c.a.createElement("div",{className:"app-title"},"HEROLO WEATHER APP")),c.a.createElement(L.a,{className:"nav-btns",exclusive:!0,onChange:function(e,a){return function(e,a){t(_(a))}(0,a)}},c.a.createElement(I.a,{value:"home",selected:"home"===e},c.a.createElement(z.b,{className:"toggle-btn",to:"/"},c.a.createElement(V.a,null))),c.a.createElement(I.a,{value:"favorites",selected:"favorites"===e},c.a.createElement(z.b,{className:"toggle-btn",to:"/Favorites"},c.a.createElement(g.a,null))))),c.a.createElement("div",{className:"view-container"},c.a.createElement(W.c,null,c.a.createElement(W.a,{path:"/Favorites"},c.a.createElement(M,null)),c.a.createElement(W.a,{path:"/"},c.a.createElement(D,null))))))},G=Object(o.c)(l,Object(o.a)(s.a));Object(i.render)(c.a.createElement(r.a,{store:G},c.a.createElement(x,null)),document.getElementById("root"))},90:function(e,t,a){e.exports=a(133)},92:function(e,t,a){}},[[90,1,2]]]);
//# sourceMappingURL=main.2bbba05e.chunk.js.map